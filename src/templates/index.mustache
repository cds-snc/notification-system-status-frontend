<html lang="{{lang}}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>{{siteTitle}}</title>
    <meta name="description" content="{{siteTitle}}" />
    <meta name="keywords" content="" />
    <meta name="author" content="" />

    <!--Icons-->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/fill/style.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://unpkg.com/@phosphor-icons/web@2.0.3/src/regular/style.css"
    />

    <!--Replace with your tailwind.css once created-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:wght@300..500&family=Noto+Sans+Mono&family=Noto+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Define your gradient here - use online tools to find a gradient matching your branding-->
    <style>
      .gradient {
        background: linear-gradient(90deg, #d53369 0%, #daae51 100%);
      }

      .dark .gradient,
      .dark.gradient {
        background: linear-gradient(
          90deg,
          hsla(205, 46%, 10%, 1) 0%,
          hsla(191, 28%, 23%, 1) 50%,
          hsla(207, 41%, 27%, 1) 100%
        );
      }
    </style>
    <link href="./css/index.css" rel="stylesheet" />
  </head>

  <body
    class="text-xl min-w-[320px] bg-white text-black dark:bg-black dark:text-white"
  >
    <!-- Skip to main content link for accessibility -->
     <header>
      <div class="flex w-full justify-start md:justify-center md:col-start-2 items-center md:mx-auto" id="skiplink-container">
          <a href="#main-content" class="skiplink px-2 py-2">{{skipToMainContent}}</a>
      </div>
      <!--Nav-->
      <nav id="header" class="bg-white" aria-labelledby="site-title">
        <div
          class="container mx-auto px-gutterHalf py-gutterHalf flex gap-gutter w-full justify-between"
        >
          <div class="flex gap-gutterHalf w-full items-center">
            <img
              src="{{fipLogo}}"
              alt="{{fipLogoAlt}}"
            />
          </div>

          <button
            class="bg-gray-100 border-b-2 border-blue-900 text-blue-900 sm:underline sm sm:bg-transparent sm:border-none size-12 sm:w-auto shrink-0 flex items-center justify-center"
            id="lang-toggle"
            data-testid="lang_button"
            data-lang-alt="{{langAlt}}"
            type="button"
          >
            <span class="text-base sm:hidden">{{langAltAbbr}}</span
            ><span class="sr-only sm:not-sr-only">{{langAltLabel}}</span>
          </button>
        </div>
      </nav>
    </header>
    <main id="main-content" tabindex="-1">
      <div class="bg-gray-100 dark:bg-gray-900">
        <div
          class="container mx-auto px-gutterHalf py-gutterHalf flex w-full justify-between"
        >
          <div class="flex gap-gutterHalf w-full items-start">
            <img class="size-7" src="/assets/notify.svg" alt="" />
            <h1 id="site-title" class="text-xl/7 font-heading font-[375]">
              {{siteTitle}}
            </h1>
          </div>
        </div>
      </div>
      <div class="bg-gray-200 dark:bg-gray-800">
        <div class="container mx-auto px-gutterHalf py-doubleGutter w-full">
          <ul
            class="grid md:grid-cols-2 gap-gutterHalf"
            id="component_status_list"
            data-testid="component_status_table"
          ></ul>
        </div>
      </div>
      <section class="" data-testid="main_section" aria-label="system status">
        <div class="container mx-auto px-gutterHalf py-gutterAndAHalf">
          <h2
            class="text-5xl font-heading leading-tight text-black dark:text-white"
          >
            {{incidentHistoryTitle}}
          </h2>
          <div class="text-center mt-10" id="history-loading">
            <!-- <i class="text-5xl fa-solid fa-spinner fa-spin place-content-center"></i> -->
            <div class="p-4 w-full">
              <div class="animate-pulse flex space-x-4">
                <div class="flex-1 space-y-6 py-1">
                  <div
                    class="h-8 max-w-lg bg-gray-200 dark:bg-gray-500 rounded"
                  ></div>
                  <div class="space-y-3">
                    <div class="grid grid-cols-3 gap-4">
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2"
                      ></div>
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1"
                      ></div>
                    </div>
                    <div class="h-2 bg-gray-200 dark:bg-gray-500 rounded"></div>
                  </div>
                  <div class="space-y-3">
                    <div class="grid grid-cols-3 gap-4">
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2"
                      ></div>
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1"
                      ></div>
                    </div>
                    <div class="h-2 bg-gray-200 dark:bg-gray-500 rounded"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="p-4 w-full">
              <div class="animate-pulse flex space-x-4">
                <div class="flex-1 space-y-6 py-1">
                  <div
                    class="h-8 max-w-lg bg-gray-200 dark:bg-gray-500 rounded"
                  ></div>
                  <div class="space-y-3">
                    <div class="grid grid-cols-3 gap-4">
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2"
                      ></div>
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1"
                      ></div>
                    </div>
                    <div class="h-2 bg-gray-200 dark:bg-gray-500 rounded"></div>
                  </div>
                  <div class="space-y-3">
                    <div class="grid grid-cols-3 gap-4">
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-2"
                      ></div>
                      <div
                        class="h-2 bg-gray-200 dark:bg-gray-500 rounded col-span-1"
                      ></div>
                    </div>
                    <div class="h-2 bg-gray-200 dark:bg-gray-500 rounded"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="history" class="dark:text-white" data-testid="history"></div>
        </div>
      </section>
      <section class="bg-blue-900" aria-label="{{backButton}}">
        <div class="container mx-auto px-gutterHalf py-gutterAndAHalf">
          <a
            href="{{homeUrl}}"
            class="text-blue-200 inline-flex items-center gap-2"
          >
            <span>{{backButton}}</span>
          </a>
        </div>
      </section>
    </main>
    <footer class="bg-gray-100">
      <div
        class="container mx-auto px-gutterHalf py-gutterAndAHalf flex gap-gutter items-end lg:items-center justify-between"
      >
        <nav aria-label="{{footer.legalLabel}}">
          <ul
            class="text-base leading-8 [&_a]:text-black [&_svg]:hidden md:[&_svg]:inline md:[&_svg]:mx-gutterHalf flex flex-col md:flex-row flex-wrap gap-gutterHalf md:gap-0 md:items-center"
          >
            <li>
              <a href="{{footer.links.privacy.href}}">{{footer.links.privacy.text}}</a>
              <svg
                width="4"
                height="4"
                viewBox="0 0 4 4"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                focusable="false"
              >
                <circle cx="2" cy="2" r="2" fill="black" />
              </svg>
            </li>

            <li>
              <a href="{{footer.links.security.href}}">{{footer.links.security.text}}</a>
              <svg
                width="4"
                height="4"
                viewBox="0 0 4 4"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                focusable="false"
              >
                <circle cx="2" cy="2" r="2" fill="black" />
              </svg>
            </li>

            <li>
              <a href="{{footer.links.accessibility.href}}">{{footer.links.accessibility.text}}</a>
              <svg
                width="4"
                height="4"
                viewBox="0 0 4 4"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                focusable="false"
              >
                <circle cx="2" cy="2" r="2" fill="black" />
              </svg>
            </li>

            <li>
              <a href="{{footer.links.terms.href}}">{{footer.links.terms.text}}</a>
              <svg
                width="4"
                height="4"
                viewBox="0 0 4 4"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                focusable="false"
              >
                <circle cx="2" cy="2" r="2" fill="black" />
              </svg>
            </li>

            <li>
              <a href="{{footer.links.sla.href}}">{{footer.links.sla.text}}</a>
            </li>
          </ul>
        </nav>
        <img
          src="/assets/fip-wordmark.svg"
          alt="{{wordmarkAlt}}"
        />
      </div>
    </footer>

    <script src="./js/articles.js"></script>
    <script src="./js/component_status.js"></script>
    <script src="./js/i18n.js"></script>
    <script>
      /**
       * Setup language switching and load incident history when the language changes
       */
      SwitchLanguage({
        buttonId: "lang-toggle",
        currentLang: "{{lang}}",
        onComplete: function () {
          LoadIncidentHistory({
            lang: document.documentElement.lang,
            loaderId: "history-loading",
            contentId: "history",
          });
          // Load component status data
          LoadComponentStatus();
        },
      });
    </script>
  </body>
</html>
